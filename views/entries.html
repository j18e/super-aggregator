{{ template "header" }}
<table class="table table-hover">
  <thead>
    <tr>
      <th>Date</th>
      <th>{{ template "dropdown" .Applications }}</th>
      <th>{{ template "dropdown" .Hosts }}</th>
      <th>{{ template "dropdown" .Environments }}</th>
      <th>Entry</th>
    </tr>
  </thead>
  <tbody>
    {{ range $i, $e := .Entries }}
    <tr>
      <td>{{ $e.PrettyTimestamp }}</td>
      <td>{{ $e.Application }}</td>
      <td>{{ $e.Host }}</td>
      <td>{{ $e.Environment }}</td>
      <td>{{ $e.LogLine }}</td>
    </tr>
    {{ end }}
  </tbody>
</table>
{{ template "footer" }}

{{ define "dropdown" }}
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
    Env
  </button>
  <ul class="dropdown-menu">
    {{ range . }}
    <li><a class="dropdown-item" href="{{ .Path }}">{{ .Name }}</a></li>
    {{ end }}
  </ul>
</div>
{{ end }}
