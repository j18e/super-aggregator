{{ template "header" }}
<table class="table table-hover">
  <thead>
    <tr>
      <th>Date</th>
      <th>{{ template "dropdownButton" "Application" }}{{ template "dropdownItems" .Applications }}</th>
      <th>{{ template "dropdownButton" "Host" }}{{ template "dropdownItems" .Hosts }}</th>
      <th>{{ template "dropdownButton" "Environment" }}{{ template "dropdownItems" .Environments }}</th>
      <th>Entry</th>
    </tr>
    <tr>
      <td></td>
      <td><strong>{{ .Current.Application }}</strong></td>
      <td><strong>{{ .Current.Host }}</strong></td>
      <td><strong>{{ .Current.Environment }}</strong></td>
      <td></td>
    </tr>
  </thead>
  <tbody>
  {{ if .Entries }}
    {{ range .Entries }}
    <tr>
      <td>{{ .PrettyTimestamp }}</td>
      <td>{{ .Application }}</td>
      <td>{{ .Host }}</td>
      <td>{{ .Environment }}</td>
      <td>{{ .LogLine }}</td>
    </tr>
    {{ end }}
  {{ else }}
    <tr>
      <td>No log entries found</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  {{ end }}
  </tbody>
</table>
<nav>
  <ul class="pagination">
    <li class="page-item{{ if eq .Page 1 }} disabled{{ end }}"><a class="page-link" href="{{ .PrevPage }}">Previous</a></li>
    <li class="page-item{{ if not .Entries }} disabled{{ end }}"><a class="page-link" href="{{ .NextPage }}">Next</a></li>
  </ul>
</nav>
{{ template "footer" }}

{{ define "dropdownButton" }}
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
    {{ . }}
  </button>
{{ end }}
{{ define "dropdownItems" }}
  <ul class="dropdown-menu">
    {{ range . }}
    <li><a class="dropdown-item" href="{{ .Path }}">{{ .Name }}</a></li>
    {{ end }}
  </ul>
</div>
{{ end }}
